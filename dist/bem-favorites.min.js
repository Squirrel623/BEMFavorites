var BEMFavorites=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e){t.exports=Bem},function(t,e){t.exports=$},function(t,e,r){"use strict";var n=r(6),o="object"==typeof self&&self&&self.Object===Object&&self,i=n.a||o||Function("return this")();e.a=i},function(t,e,r){"use strict";(function(t){var n=r(2),o=r(9),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?n.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||o.a;e.a=c}).call(this,r(4)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){"use strict";(function(t){var n=r(6),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.a.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=u}).call(this,r(4)(t))},function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(8))},function(t,e,r){"use strict";r.r(e);var n=r(1),o=r.n(n),i=function(t,e){return t===e||t!=t&&e!=e},a=function(t,e){for(var r=t.length;r--;)if(i(t[r][0],e))return r;return-1},u=Array.prototype.splice;function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=function(){this.__data__=[],this.size=0},c.prototype.delete=function(t){var e=this.__data__,r=a(e,t);return!(r<0||(r==e.length-1?e.pop():u.call(e,r,1),--this.size,0))},c.prototype.get=function(t){var e=this.__data__,r=a(e,t);return r<0?void 0:e[r][1]},c.prototype.has=function(t){return a(this.__data__,t)>-1},c.prototype.set=function(t,e){var r=this.__data__,n=a(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var s,l=c,f=r(2),p=f.a.Symbol,d=Object.prototype,v=d.hasOwnProperty,h=d.toString,b=p?p.toStringTag:void 0,y=Object.prototype.toString,g=p?p.toStringTag:void 0,_=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?function(t){var e=v.call(t,b),r=t[b];try{t[b]=void 0;var n=!0}catch(t){}var o=h.call(t);return n&&(e?t[b]=r:delete t[b]),o}(t):function(t){return y.call(t)}(t)},m=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},j=function(t){if(!m(t))return!1;var e=_(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},w=f.a["__core-js_shared__"],O=(s=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",x=Function.prototype.toString,E=function(t){if(null!=t){try{return x.call(t)}catch(t){}try{return t+""}catch(t){}}return""},F=/^\[object .+?Constructor\]$/,A=Function.prototype,S=Object.prototype,z=A.toString,k=S.hasOwnProperty,P=RegExp("^"+z.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=function(t){return!(!m(t)||function(t){return!!O&&O in t}(t))&&(j(t)?P:F).test(E(t))},T=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return N(r)?r:void 0},B=T(f.a,"Map"),I=T(Object,"create"),M=Object.prototype.hasOwnProperty,C=Object.prototype.hasOwnProperty;function L(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}L.prototype.clear=function(){this.__data__=I?I(null):{},this.size=0},L.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},L.prototype.get=function(t){var e=this.__data__;if(I){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return M.call(e,t)?e[t]:void 0},L.prototype.has=function(t){var e=this.__data__;return I?void 0!==e[t]:C.call(e,t)},L.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=I&&void 0===e?"__lodash_hash_undefined__":e,this};var R=L,W=function(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function D(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}D.prototype.clear=function(){this.size=0,this.__data__={hash:new R,map:new(B||l),string:new R}},D.prototype.delete=function(t){var e=W(this,t).delete(t);return this.size-=e?1:0,e},D.prototype.get=function(t){return W(this,t).get(t)},D.prototype.has=function(t){return W(this,t).has(t)},D.prototype.set=function(t,e){var r=W(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var U=D;function V(t){var e=this.__data__=new l(t);this.size=e.size}V.prototype.clear=function(){this.__data__=new l,this.size=0},V.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},V.prototype.get=function(t){return this.__data__.get(t)},V.prototype.has=function(t){return this.__data__.has(t)},V.prototype.set=function(t,e){var r=this.__data__;if(r instanceof l){var n=r.__data__;if(!B||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new U(n)}return r.set(t,e),this.size=r.size,this};var q=V;function J(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new U;++e<r;)this.add(t[e])}J.prototype.add=J.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},J.prototype.has=function(t){return this.__data__.has(t)};var X=J,Y=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},G=function(t,e){return t.has(e)},H=function(t,e,r,n,o,i){var a=1&r,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t);if(s&&i.get(e))return s==e;var l=-1,f=!0,p=2&r?new X:void 0;for(i.set(t,e),i.set(e,t);++l<u;){var d=t[l],v=e[l];if(n)var h=a?n(v,d,l,e,t,i):n(d,v,l,t,e,i);if(void 0!==h){if(h)continue;f=!1;break}if(p){if(!Y(e,function(t,e){if(!G(p,e)&&(d===t||o(d,t,r,n,i)))return p.push(e)})){f=!1;break}}else if(d!==v&&!o(d,v,r,n,i)){f=!1;break}}return i.delete(t),i.delete(e),f},K=f.a.Uint8Array,Q=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r},Z=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r},tt=p?p.prototype:void 0,et=tt?tt.valueOf:void 0,rt=function(t,e,r,n,o,a,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new K(t),new K(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Q;case"[object Set]":var s=1&n;if(c||(c=Z),t.size!=e.size&&!s)return!1;var l=u.get(t);if(l)return l==e;n|=2,u.set(t,e);var f=H(c(t),c(e),n,o,a,u);return u.delete(t),f;case"[object Symbol]":if(et)return et.call(t)==et.call(e)}return!1},nt=Array.isArray,ot=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i},it=Object.prototype.propertyIsEnumerable,at=Object.getOwnPropertySymbols,ut=at?function(t){return null==t?[]:(t=Object(t),ot(at(t),function(e){return it.call(t,e)}))}:function(){return[]},ct=function(t){return null!=t&&"object"==typeof t},st=function(t){return ct(t)&&"[object Arguments]"==_(t)},lt=Object.prototype,ft=lt.hasOwnProperty,pt=lt.propertyIsEnumerable,dt=st(function(){return arguments}())?st:function(t){return ct(t)&&ft.call(t,"callee")&&!pt.call(t,"callee")},vt=r(3),ht=/^(?:0|[1-9]\d*)$/,bt=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&ht.test(t))&&t>-1&&t%1==0&&t<e},yt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},gt={};gt["[object Float32Array]"]=gt["[object Float64Array]"]=gt["[object Int8Array]"]=gt["[object Int16Array]"]=gt["[object Int32Array]"]=gt["[object Uint8Array]"]=gt["[object Uint8ClampedArray]"]=gt["[object Uint16Array]"]=gt["[object Uint32Array]"]=!0,gt["[object Arguments]"]=gt["[object Array]"]=gt["[object ArrayBuffer]"]=gt["[object Boolean]"]=gt["[object DataView]"]=gt["[object Date]"]=gt["[object Error]"]=gt["[object Function]"]=gt["[object Map]"]=gt["[object Number]"]=gt["[object Object]"]=gt["[object RegExp]"]=gt["[object Set]"]=gt["[object String]"]=gt["[object WeakMap]"]=!1;var _t=r(5),mt=_t.a&&_t.a.isTypedArray,jt=mt?function(t){return function(e){return t(e)}}(mt):function(t){return ct(t)&&yt(t.length)&&!!gt[_(t)]},wt=Object.prototype.hasOwnProperty,Ot=function(t,e){var r=nt(t),n=!r&&dt(t),o=!r&&!n&&Object(vt.a)(t),i=!r&&!n&&!o&&jt(t),a=r||n||o||i,u=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=u.length;for(var s in t)!e&&!wt.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||bt(s,c))||u.push(s);return u},xt=Object.prototype,Et=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Ft=Object.prototype.hasOwnProperty,At=function(t){if(!function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xt)}(t))return Et(t);var e=[];for(var r in Object(t))Ft.call(t,r)&&"constructor"!=r&&e.push(r);return e},St=function(t){return null!=t&&yt(t.length)&&!j(t)},zt=function(t){return St(t)?Ot(t):At(t)},kt=function(t){return function(t,e,r){var n=e(t);return nt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,zt,ut)},Pt=Object.prototype.hasOwnProperty,Nt=T(f.a,"DataView"),Tt=T(f.a,"Promise"),Bt=T(f.a,"Set"),It=T(f.a,"WeakMap"),$t=E(Nt),Mt=E(B),Ct=E(Tt),Lt=E(Bt),Rt=E(It),Wt=_;(Nt&&"[object DataView]"!=Wt(new Nt(new ArrayBuffer(1)))||B&&"[object Map]"!=Wt(new B)||Tt&&"[object Promise]"!=Wt(Tt.resolve())||Bt&&"[object Set]"!=Wt(new Bt)||It&&"[object WeakMap]"!=Wt(new It))&&(Wt=function(t){var e=_(t),r="[object Object]"==e?t.constructor:void 0,n=r?E(r):"";if(n)switch(n){case $t:return"[object DataView]";case Mt:return"[object Map]";case Ct:return"[object Promise]";case Lt:return"[object Set]";case Rt:return"[object WeakMap]"}return e});var Dt=Wt,Ut="[object Arguments]",Vt="[object Array]",qt="[object Object]",Jt=Object.prototype.hasOwnProperty,Xt=function(t,e,r,n,o,i){var a=nt(t),u=nt(e),c=a?Vt:Dt(t),s=u?Vt:Dt(e),l=(c=c==Ut?qt:c)==qt,f=(s=s==Ut?qt:s)==qt,p=c==s;if(p&&Object(vt.a)(t)){if(!Object(vt.a)(e))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new q),a||jt(t)?H(t,e,r,n,o,i):rt(t,e,c,r,n,o,i);if(!(1&r)){var d=l&&Jt.call(t,"__wrapped__"),v=f&&Jt.call(e,"__wrapped__");if(d||v){var h=d?t.value():t,b=v?e.value():e;return i||(i=new q),o(h,b,r,n,i)}}return!!p&&(i||(i=new q),function(t,e,r,n,o,i){var a=1&r,u=kt(t),c=u.length;if(c!=kt(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:Pt.call(e,l)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var p=!0;i.set(t,e),i.set(e,t);for(var d=a;++s<c;){var v=t[l=u[s]],h=e[l];if(n)var b=a?n(h,v,l,e,t,i):n(v,h,l,t,e,i);if(!(void 0===b?v===h||o(v,h,r,n,i):b)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var y=t.constructor,g=e.constructor;y!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g)&&(p=!1)}return i.delete(t),i.delete(e),p}(t,e,r,n,o,i))},Yt=function t(e,r,n,o,i){return e===r||(null==e||null==r||!ct(e)&&!ct(r)?e!=e&&r!=r:Xt(e,r,n,o,t,i))},Gt=function(t){return t==t&&!m(t)},Ht=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}},Kt=function(t){var e=function(t){for(var e=zt(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Gt(o)]}return e}(t);return 1==e.length&&e[0][2]?Ht(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=r[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new q;if(n)var p=n(s,l,c,t,e,f);if(!(void 0===p?Yt(l,s,3,n,f):p))return!1}}return!0}(r,t,e)}},Qt=function(t){return"symbol"==typeof t||ct(t)&&"[object Symbol]"==_(t)},Zt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ee=function(t,e){if(nt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Qt(t))||te.test(t)||!Zt.test(t)||null!=e&&t in Object(e)},re="Expected a function";function ne(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(re);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(ne.Cache||U),r}ne.Cache=U;var oe=ne,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/\\(\\)?/g,ue=function(t){var e=oe(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ie,function(t,r,n,o){e.push(n?o.replace(ae,"$1"):r||t)}),e},function(t){return 500===r.size&&r.clear(),t}),r=e.cache;return e}(),ce=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},se=p?p.prototype:void 0,le=se?se.toString:void 0,fe=function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(nt(e))return ce(e,t)+"";if(Qt(e))return le?le.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}(t)},pe=function(t,e){return nt(t)?t:ee(t,e)?[t]:ue(fe(t))},de=function(t){if("string"==typeof t||Qt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},ve=function(t,e){for(var r=0,n=(e=pe(e,t)).length;null!=t&&r<n;)t=t[de(e[r++])];return r&&r==n?t:void 0},he=function(t,e){return null!=t&&e in Object(t)},be=function(t,e){return null!=t&&function(t,e,r){for(var n=-1,o=(e=pe(e,t)).length,i=!1;++n<o;){var a=de(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&yt(o)&&bt(a,o)&&(nt(t)||dt(t))}(t,e,he)},ye=function(t,e){return ee(t)&&Gt(e)?Ht(de(t),e):function(r){var n=function(t,e,r){var n=null==t?void 0:ve(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?be(r,t):Yt(e,n,3)}},ge=function(t){return t},_e=function(t){return ee(t)?function(t){return function(e){return null==e?void 0:e[t]}}(de(t)):function(t){return function(e){return ve(e,t)}}(t)},me=function(t){return"function"==typeof t?t:null==t?ge:"object"==typeof t?nt(t)?ye(t[0],t[1]):Kt(t):_e(t)},je=/^\s+|\s+$/g,we=/^[-+]0x[0-9a-f]+$/i,Oe=/^0b[01]+$/i,xe=/^0o[0-7]+$/i,Ee=parseInt,Fe=function(t){return t?(t=function(t){if("number"==typeof t)return t;if(Qt(t))return NaN;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(je,"");var r=Oe.test(t);return r||xe.test(t)?Ee(t.slice(2),r?2:8):we.test(t)?NaN:+t}(t))===1/0||t===-1/0?1.7976931348623157e308*(t<0?-1:1):t==t?t:0:0===t?t:0},Ae=Math.max,Se=function(t){return function(e,r,n){var o=Object(e);if(!St(e)){var i=me(r);e=zt(e),r=function(t){return i(o[t],t,o)}}var a=t(e,r,n);return a>-1?o[i?e[a]:a]:void 0}}(function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=null==r?0:function(t){var e=Fe(t),r=e%1;return e==e?r?e-r:e:0}(r);return o<0&&(o=Ae(n+o,0)),function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,me(e),o)}),ze=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),a=i.length;a--;){var u=i[++n];if(!1===e(o[u],u,o))break}return t},ke=function(t,e){if(null==t)return t;if(!St(t))return function(t,e){return t&&ze(t,e,zt)}(t,e);for(var r=t.length,n=-1,o=Object(t);++n<r&&!1!==e(o[n],n,o););return t},Pe=function(t,e){return(nt(t)?ot:function(t,e){var r=[];return ke(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r})(t,me(e))},Ne=function(t,e){return(nt(t)?function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}:ke)(t,function(t){return"function"==typeof t?t:ge}(e))},Te=r(0),Be=r.n(Te),Ie=function(t,e){return(nt(t)?ce:function(t,e){var r=-1,n=St(t)?Array(t.length):[];return ke(t,function(t,o,i){n[++r]=e(t,o,i)}),n})(t,me(e))},$e=function(t,e){return e.length<2?t:ve(t,function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}(e,0,-1))},Me=function(t,e){return e=pe(e,t),null==(t=$e(t,e))||delete t[de(function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}(e))]},Ce=Array.prototype.splice,Le=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,o=[],i=t.length;for(e=me(e);++n<i;){var a=t[n];e(a,n,t)&&(r.push(a),o.push(n))}return function(t,e){for(var r=t?e.length:0,n=r-1;r--;){var o=e[r];if(r==n||o!==i){var i=o;bt(o)?Ce.call(t,o,1):Me(t,o)}}}(t,o),r},Re=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0},We=function(t,e){var r=!0;return ke(t,function(t,n,o){return r=!!e(t,n,o)}),r},De=function(t,e,r){var n=nt(t)?Re:We;return r&&function(t,e,r){if(!m(r))return!1;var n=typeof e;return!!("number"==n?St(r)&&bt(e,r.length):"string"==n&&e in r)&&i(r[e],t)}(t,e,r)&&(e=void 0),n(t,me(e))};const Ue="bemFavorites";function Ve(t){return nt(t)&&De(t,t=>nt(t)&&t.length>0)}const qe=function(){let t=0;return new Promise((e,r)=>{if(Be.a&&void 0!==Be.a.emotes)return e(Be.a.emotes);const n=setInterval(()=>{++t>200&&r(new Error("Max waiting iterations reached. Is Berrymotes installed?")),Be.a&&void 0!==Be.a.emotes&&(clearInterval(n),e(Be.a.emotes))},100)})}();function Je(t){const e=$("body").dialogWindow({uid:t.uid,offset:{top:t.top,left:t.left},toolBox:!0});e.window.contextmenu(()=>!1);const r=$('<ul class="optionList"/>').appendTo(e),n=$("<li/>").appendTo(r);$(`<div class="button"><span>${t.text}</span></div>`).appendTo(n).click(()=>{t.onClick()&&e.window.remove()})}let Xe;const Ye=new MutationObserver(t=>{const e=Se(t,t=>"childList"===t.type&&1===t.addedNodes.length&&"berrymotes_search_results"===t.addedNodes[0].className),r=Pe(t,t=>"childList"===t.type&&1===t.addedNodes.length&&"berrymotes_search_results"===t.target.className&&1===t.addedNodes[0].childNodes.length&&"berryemote"===t.addedNodes[0].childNodes[0].className);void 0!==e&&(function(){const t=o()("body").find(".berrymotes_search");if(1!==t.length)throw new Error("No BEM input found");t.width(250)}(),function(){const t=function(){const t=o()("body").find(".berrymotes .dialogContent");if(1!==t.length)throw new Error("No BEM dialog found");return t}().find('div:contains("Settings")');if(1!==t.length)throw new Error("Settings link not found");o()("<div/>").text("Favs").css({float:"right",cursor:"pointer","text-decoration":"underline","margin-right":"5px"}).click(()=>(function(t){let e=!0;const r=o()("body").dialogWindow({title:"BerryEmote Favorites",uid:"berryEmoteFavorites",center:!0,onClose:()=>{e=!1}});let n,i=0;const a=()=>{!function({resultsElement:t,favoritesStore:e,start:r,end:n}){t.empty();const i=e.getFavorites();for(let e=r;e<i.length&&e<n;e++){const r=o()("<span/>").css("margin","2px").append(Be.a.getEmoteHtml(i[e]));Be.a.postEmoteEffects(r,!0),t.append(r)}}({resultsElement:n,favoritesStore:t,start:50*i,end:50*(i+1)})};!function({dialogContent:t,favoritesStore:e,requestReload:r}){o()("<div/>").text("Export").css({float:"right",cursor:"pointer","text-decoration":"underline","user-select":"none","margin-left":"5px"}).click(e.exportFavorites.bind(e)).appendTo(t),o()("<div/>").text("Import").css({float:"right",cursor:"pointer","text-decoration":"underline","user-select":"none"}).click(()=>{e.importFavorites().then(t=>{t&&r()})}).appendTo(t)}({dialogContent:r,favoritesStore:t,requestReload:()=>{e&&(i=0,a())}}),o()("<span/>").text("< Prev").addClass("bemf_prev_page").css({cursor:"pointer","text-decoration":"underline","user-select":"none"}).click(()=>{i>0&&(i--,a())}).appendTo(r),o()("<span/>").text("Next >").addClass("bemf_next_page").css({cursor:"pointer","text-decoration":"underline","margin-left":"5px","user-select":"none"}).click(()=>{t.getFavorites().length>50*(i+1)&&(i++,a())}).appendTo(r),n=function(t,e,r){const n=o()("<div/>").addClass("berryemotes-favorites-results").css({width:"500px",height:"500px","overflow-y":"scroll"}).appendTo(t);return n.on("click",".berryemote",t=>{if(Be.a.lastFocus){const e=o()(t.currentTarget),n=parseInt(e.attr("emote_id"),10),i=Be.a.emotes[n];Be.a.insertAtCursor(Be.a.lastFocus,`[](/${i.names[0]})`),Be.a.lastFocus.focus(),r()}}),n.on("contextmenu",".berryemote",t=>{const r=o()(t.target),n=parseInt(r.attr("emote_id"),10);return Je({uid:"bemRemoveFavorite",top:t.pageY,left:t.pageX,text:"Remove From Favorites",onClick:()=>(e.removeEmote(n),r.remove(),!0)}),!1}),n}(r,t,()=>{e=!1,r.window.close(),o()(document.body).find(".dialogWindow.berrymotes").remove()}),a(),r.window.center()})(Xe)).insertAfter(t)}()),r.length>0&&Ne(r,t=>{const e=t.addedNodes[0].childNodes[0],r=e.getAttribute("emote_id");if(null===r)return;const n=parseInt(r,10);o()(e).contextmenu(t=>(Je({uid:"bemAddFavorite",top:t.pageY,left:t.pageX,text:"Add To Favorites",onClick:()=>(Xe.addEmote(n),!0)}),!1))})});let Ge;function He(){Ge&&Ge()}r.d(e,"dispose",function(){return He}),console.log("BEMFavories Loaded"),qe.then(()=>{console.log("BEMFavorites Started"),Xe=new class{constructor(){if(!Be.a||!Be.a.emotes)throw new Error("Berrymotes not installed or initialized");let t=function(t){const e=localStorage.getItem(t);return null===e?null:JSON.parse(e)}(Ue);if(null===t&&(t=[]),!Ve(t))throw new Error("Badly formed serialization");this.deserializeInput(t)}getFavorites(){return this.favoriteEmotes}addEmote(t){return!Se(this.favoriteEmotes,e=>e.id===t)&&(this.favoriteEmotes.push(Be.a.emotes[t]),this.saveFavorites(),!0)}removeEmote(t){const e=Le(this.favoriteEmotes,e=>e.id===t);return this.saveFavorites(),e.length>0}clearFavorites(){this.favoriteEmotes=[],this.saveFavorites()}importFavorites(){const t=o()("body").dialogWindow({title:"Import Favorites",uid:"bemfImportFavorites",center:!0}),e=(o()("<div/>").text("Warning! Successfully importing will replace currently saved favorites!").css({"font-weight":"bold","margin-top":"5px","margin-bottom":"15px"}).appendTo(t),o()("<input/>").attr("type","file").attr("accept",".bemf").appendTo(t)),r=e[0];return t.window.center(),new Promise((t,n)=>{e.on("change",()=>{if(!r.files||!r.files[0])return;const e=new FileReader;e.onload=(e=>{if(null===e.target)return t(!1);let r;try{r=JSON.parse(e.target.result)}catch(e){return console.warn("Tried loading ill-formed input"),t(!1)}return Ve(r)?(this.deserializeInput(r),t(!0)):(console.warn("Tried loading ill-formed input"),t(!1))});try{e.readAsText(r.files[0])}catch(e){return console.warn("Tried loading ill-formed input"),t(!1)}})}).then(e=>(t.window.remove(),e),()=>(t.window.remove(),!1))}exportFavorites(){const t=new Blob([JSON.stringify(this.serializeFavorites())],{type:"text/plain"}),e=document.createElement("a");e.download="bem-favorites.bemf",e.href=window.URL.createObjectURL(t),e.dataset.downloadurl=["text/plain",e.download,e.href].join(":"),e.click()}serializeFavorites(){return Ie(this.favoriteEmotes,t=>t.names)}deserializeInput(t){const e=function(t){const e={};return Ne(t,t=>{Ne(t.names,r=>{e[r]=t.id})}),e}(Be.a.emotes),r=[];Ne(t,t=>{let n;for(let r=0;r<t.length&&void 0===(n=Be.a.emotes[e[t[r]]]);r++);void 0!==n&&r.push(n)}),this.favoriteEmotes=r}saveFavorites(){var t,e;t=Ue,e=this.serializeFavorites(),localStorage.setItem(t,JSON.stringify(e))}},Ye.observe(document.body,{childList:!0,subtree:!0}),Ge=(()=>{Ye.disconnect()})},t=>{console.error("BerryEmote Favorites failed to load. Do you have BerryEmotes installed?")})},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.a=function(){return!1}}]);